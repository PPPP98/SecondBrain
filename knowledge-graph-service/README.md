## π“– κ°μ”

κ°μΈμ΄ μ‘μ„±ν• λ…ΈνΈλ¥Ό μλ™μΌλ΅ μ„λ² λ”©ν•κ³ , μλ―Έμ  μ μ‚¬λ„λ¥Ό κΈ°λ°μΌλ΅ λ…ΈνΈ κ°„ κ΄€κ³„λ¥Ό μλ™μΌλ΅ μ—°κ²°ν•μ—¬ μ§€μ‹ κ·Έλν”„λ¥Ό κµ¬μ¶•ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

### 1μ°¨ MVP (μ™„λ£) β…

- β… **λ…ΈνΈ CRUD**: Neo4j κΈ°λ° λ…ΈνΈ μ €μ¥ λ° κ΄€λ¦¬
- β… **μλ™ μ„λ² λ”©**: OpenAI APIλ¥Ό ν™μ©ν• ν…μ¤νΈ μ„λ² λ”© μƒμ„±
- β… **μ μ‚¬λ„ μ—°κ²°**: λ²΅ν„° μ μ‚¬λ„ κΈ°λ° λ…ΈνΈ κ°„ μλ™ κ΄€κ³„ ν•μ„±
  - HNSW μΈλ±μ¤ κΈ°λ° κ³ μ† κ²€μƒ‰
  - μ½”μ‚¬μΈ μ μ‚¬λ„ κ³„μ‚°
  - μ„κ³„κ°’ ν•„ν„°λ§ (κΈ°λ³Έ: 0.70)
- β… **REST API**: FastAPI κΈ°λ° API μ„λ²„
- β… **Docker λ°°ν¬**: μ»¨ν…μ΄λ„ν™”λ λ°°ν¬ ν™κ²½

### 2μ°¨ κ°λ° κ³„ν (μ§„ν–‰ μμ •) π”

- π” **RabbitMQ κΈ°λ° λΉ„λ™κΈ° μ²λ¦¬**: λ¬΄κ±°μ΄ μ„λ² λ”© μ‘μ—… λΉ„λ™κΈ°ν™”
- π” **MSA(Microservice Architecture) μ „ν™**: μ„λΉ„μ¤ λ¶„λ¦¬
- π” **Spring Boot Backend μ—°λ™**: λ©”μ‹μ§€ κΈ°λ° ν†µμ‹ 

## π› οΈ κΈ°μ  μ¤νƒ

### Backend
| κΈ°μ  | λ²„μ „ |
|------|------|
| **FastAPI** | 0.120.0 |
| **Uvicorn** | 0.32.0 |
| **Python** | 3.11+ |

### Database
| κΈ°μ  | λ²„μ „ |
|------|------|
| **Neo4j** | 5.26 |
| **HNSW** | - |

### AI
| κΈ°μ  |
|------|
| **OpenAI API** |
| **Tiktoken** |

### ν¨ν‚¤μ§€ κ΄€λ¦¬ & κ°λ°
| λ„κµ¬ | μ„¤λ… |
|------|------|
| **uv** | λΉ λ¥Έ Python ν¨ν‚¤μ§€ κ΄€λ¦¬μ |
| **Pydantic** | λ°μ΄ν„° κ²€μ¦ (v2.9.2) |
| **pytest** | λ‹¨μ„ ν…μ¤νΈ |
| **Docker** | μ»¨ν…μ΄λ„ν™” |

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
knowledge-graph-service/
β”β”€β”€ main.py # FastAPI μ• ν”λ¦¬μΌ€μ΄μ…
β”β”€β”€ Dockerfile # Docker μ΄λ―Έμ§€ μ •μ
β”β”€β”€ docker-compose.yml # Docker Compose μ„¤μ •
β”β”€β”€ pyproject.toml # uv μμ΅΄μ„± μ •μ
β”β”€β”€ uv.lock # μμ΅΄μ„± μ κΈ νμΌ
β”β”€β”€ .env.example # ν™κ²½λ³€μ ν…ν”λ¦Ώ
β”‚
β”β”€β”€ app/
β”‚ β”β”€β”€ api/ # API κ³„μΈµ
β”‚ β”‚ β””β”€β”€ v1/
β”‚ β”‚ β”β”€β”€ endpoints/ # μ—”λ“ν¬μΈνΈ
β”‚ β”‚ β”‚ β”β”€β”€ notes.py # λ…ΈνΈ CRUD API
β”‚ β”‚ β”‚ β”β”€β”€ search.py # κ²€μƒ‰ API
β”‚ β”‚ β”‚ β””β”€β”€ stats.py # ν†µκ³„ API
β”‚ β”‚ β”β”€β”€ routers.py # λΌμ°ν„° ν†µν•©
β”‚ β”‚ β””β”€β”€ dependencies.py # μμ΅΄μ„± μ£Όμ…
β”‚ β”‚
β”‚ β”β”€β”€ core/ # ν•µμ‹¬ μ„¤μ •
β”‚ β”‚ β”β”€β”€ config.py # ν™κ²½ μ„¤μ •
β”‚ β”‚ β””β”€β”€ constants.py # μƒμ
β”‚ β”‚
β”‚ β”β”€β”€ db/ # λ°μ΄ν„°λ² μ΄μ¤ κ³„μΈµ
β”‚ β”‚ β”β”€β”€ neo4j_client.py # Neo4j ν΄λΌμ΄μ–ΈνΈ
β”‚ β”‚ β””β”€β”€ init_db.py # μ¤ν‚¤λ§ μ΄κΈ°ν™”
β”‚ β”‚
β”‚ β”β”€β”€ crud/ # CRUD μ‘μ—…
β”‚ β”‚ β””β”€β”€ note.py # Note CRUD
β”‚ β”‚
β”‚ β”β”€β”€ services/ # λΉ„μ¦λ‹μ¤ λ΅μ§
β”‚ β”‚ β”β”€β”€ embedding_service.py # μ„λ² λ”© μƒμ„±
β”‚ β”‚ β””β”€β”€ similarity_service.py # μ μ‚¬λ„ μ—°κ²°
β”‚ β”‚
β”‚ β””β”€β”€ schemas/ # Pydantic λ¨λΈ
β”‚ β””β”€β”€ note.py # Note μ¤ν‚¤λ§
β”‚
β”β”€β”€ tests/ # ν…μ¤νΈ
β”‚ β”β”€β”€ test_crud.py # CRUD ν…μ¤νΈ (9κ°)
β”‚ β”β”€β”€ test_similarity_service.py# μ μ‚¬λ„ ν…μ¤νΈ (6κ°)
β”‚ β””β”€β”€ test_api.py # API ν†µν•© ν…μ¤νΈ (10κ°)
β”‚
β””β”€β”€ README.md
```

## π€ μ‹μ‘ν•κΈ°

### μ‚¬μ „ μ”κµ¬μ‚¬ν•­

- Python 3.11 μ΄μƒ
- Neo4j 5.26 μ΄μƒ (Docker λλ” λ΅μ»¬)
- OpenAI API Key



### λ΅μ»¬ ν”„λ΅μ νΈ μ„¤μ •

```bash

# ν”„λ΅μ νΈ rootμ—μ„ μμ΅΄μ„± μ„¤μΉ
uv sync

# κ°€μƒν™κ²½ ν™μ„±ν™”
source .venv/bin/activate  

```

### ν™κ²½ λ³€μ μ„¤μ •

```bash
# .env νμΌ μƒμ„±
cp .env.example .env
```

### 4. μ„λ²„ μ‹¤ν–‰

```bash
uv run python main.py
```

μ„λ²„κ°€ http://localhost:8000 μ—μ„ μ‹¤ν–‰λ©λ‹λ‹¤.

## π“ API λ¬Έμ„

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc


## π― μ£Όμ” κΈ°λ¥ μ„¤λ…

### 1. μλ™ μ„λ² λ”© μƒμ„±

- λ…ΈνΈ μ‘μ„±μ‹ λ…ΈνΈ λ‚΄μ©μ— λ€ν•΄ μλ™μΌλ΅ μ„λ² λ”© λ²΅ν„°κ°’μ΄ κ³„μ‚°λμ–΄ μ €μ¥λ©λ‹λ‹¤.

### 2. μ μ‚¬λ„ κΈ°λ° μλ™ μ—°κ²°

```
μƒ λ…ΈνΈ A μƒμ„±
     β†“
λ²΅ν„° μΈλ±μ¤ κ²€μƒ‰ (HNSW)
     β†“
Top-20 μ μ‚¬ λ…ΈνΈ μ¶”μ¶ (μ½”μ‚¬μΈ μ μ‚¬λ„)
     β†“
μ„κ³„κ°’ ν•„ν„°λ§ (score β‰¥ 0.70)
     β†“
μµλ€ 10κ° κ΄€κ³„ μƒμ„± (SIMILAR_TO)
     β†“
μ–‘λ°©ν–¥ κ΄€κ³„ μ„¤μ • (A β†” B)
```

## β™οΈ μ„¤μ • μµμ…

### config.py μ£Όμ” μ„¤μ •

| μ„¤μ • | κΈ°λ³Έκ°’ | μ„¤λ… |
|-----|-------|------|
| `SIMILARITY_THRESHOLD` | 0.70 | κ΄€κ³„ μƒμ„± μµμ† μ μ‚¬λ„ |
| `MAX_RELATIONSHIPS` | 10 | λ…ΈνΈλ‹Ή μµλ€ μ—°κ²° μ |

### μ„κ³„κ°’ μ΅°μ • κ°€μ΄λ“
* μ„μ‹λ΅ μ‘μ„±λμ—μµλ‹λ‹¤ - μ•„μ§ ν™•μΈλ λ‚΄μ© μ•„λ‹
- **0.80 μ΄μƒ**: κ±°μ λ™μΌν• μ£Όμ  (λ§¤μ° μ—„κ²©)
- **0.70 - 0.79**: μ μ‚¬ν• μ£Όμ  (κ¶μ¥)
- **0.60 - 0.69**: κ΄€λ ¨λ μ£Όμ  (λμ¨ν•¨)
- **0.60 λ―Έλ§**: κ΄€λ ¨ μ—†μ

## π“ λ‹¤μ λ‹¨κ³„ (2μ°¨ κ°λ°)

### Phase 1: λΉ„λ™κΈ° μ²λ¦¬ μ¶”κ°€

```
Spring Boot Backend
     β†“ (λ…ΈνΈ μ €μ¥)
PostgreSQL
     β†“ (λ©”μ‹μ§€ λ°ν–‰)
RabbitMQ
     β†“ (λ©”μ‹μ§€ μμ‹ )
Knowledge Graph Service (ν„μ¬ FastAPI)
     β†“
Neo4j
```